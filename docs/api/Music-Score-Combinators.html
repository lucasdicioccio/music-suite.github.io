<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Music.Score.Combinators</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Music-Score-Combinators.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">music-suite-api</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable (TF,GNTD)</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>hans@hanshoglund.se</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Music.Score.Combinators</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Rests
</a></li><li><a href="#g:2">Maps and filters
</a><ul><li><a href="#g:3">Events
</a></li><li><a href="#g:4">Phrases
</a></li></ul></li><li><a href="#g:5">Parts
</a><ul><li><a href="#g:6">Extracting
</a></li><li><a href="#g:7">Mapping
</a></li><li><a href="#g:8">Inspecting
</a></li><li><a href="#g:9">Part composition
</a></li></ul></li><li><a href="#g:10">Zippers
</a><ul><li><a href="#g:11">Conversion
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Combinators for manipulating scores.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:rest">rest</a> :: MonadPlus s =&gt; s (Maybe a)</li><li class="src short"><a href="#v:noteRest">noteRest</a> :: MonadPlus s =&gt; Maybe a -&gt; s a</li><li class="src short"><a href="#v:removeRests">removeRests</a> :: MonadPlus s =&gt; s (Maybe a) -&gt; s a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Slicable">Slicable</a> a = (Ord (<a href="Music-Time-Time.html#t:Duration">Duration</a> a), AdditiveGroup (<a href="Music-Time-Time.html#t:Duration">Duration</a> a), <a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a)</li><li class="src short"><a href="#v:before">before</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</li><li class="src short"><a href="#v:after">after</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</li><li class="src short"><a href="#v:slice">slice</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</li><li class="src short"><span class="keyword">type</span> <a href="#t:Mappable">Mappable</a> a b = (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> b, <a href="Music-Time-Time.html#t:Duration">Duration</a> a ~ <a href="Music-Time-Time.html#t:Duration">Duration</a> b)</li><li class="src short"><a href="#v:filterEvents">filterEvents</a> :: (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a) =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; Bool) -&gt; a -&gt; a</li><li class="src short"><a href="#v:mapEvents">mapEvents</a> :: <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:mapFilterEvents">mapFilterEvents</a> :: <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; Maybe (<a href="Music-Time-Performable.html#t:Event">Event</a> b)) -&gt; a -&gt; b</li><li class="src short"><span class="keyword">type</span> <a href="#t:Phraseable">Phraseable</a> a b = (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> (<a href="Music-Time-Performable.html#t:Event">Event</a> a))</li><li class="src short"><a href="#v:mapFirst">mapFirst</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</li><li class="src short"><a href="#v:mapLast">mapLast</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</li><li class="src short"><a href="#v:mapPhrase">mapPhrase</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</li><li class="src short"><a href="#v:mapPhraseSingle">mapPhraseSingle</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</li><li class="src short"><a href="#v:filterPart">filterPart</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Time-Performable.html#t:Event">Event</a> a ~ e, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e) =&gt; (<a href="Music-Score-Part.html#t:Part">Part</a> e -&gt; Bool) -&gt; a -&gt; a</li><li class="src short"><a href="#v:extractParts">extractParts</a> :: (<a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [a]</li><li class="src short"><a href="#v:extractParts-39-">extractParts'</a> :: (<a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [(<a href="Music-Score-Part.html#t:Part">Part</a> e, a)]</li><li class="src short"><a href="#v:mapPart">mapPart</a> :: (Enum a, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> b b, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; a -&gt; (b -&gt; b) -&gt; b -&gt; b</li><li class="src short"><a href="#v:mapParts">mapParts</a> :: (<a href="Music-Time-Juxtapose.html#t:Monoid-39-">Monoid'</a> b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; (a -&gt; b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:mapAllParts">mapAllParts</a> :: (<a href="Music-Time-Juxtapose.html#t:Monoid-39-">Monoid'</a> b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; ([a] -&gt; [b]) -&gt; a -&gt; b</li><li class="src short"><a href="#v:getParts">getParts</a> :: (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [<a href="Music-Score-Part.html#t:Part">Part</a> e]</li><li class="src short"><a href="#v:setParts">setParts</a> :: (<a href="Music-Score-Part.html#t:HasPart">HasPart</a> a, Functor s) =&gt; <a href="Music-Score-Part.html#t:Part">Part</a> a -&gt; s a -&gt; s a</li><li class="src short"><a href="#v:modifyParts">modifyParts</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; (<a href="Music-Score-Part.html#t:Part">Part</a> e -&gt; <a href="Music-Score-Part.html#t:Part">Part</a> e) -&gt; a -&gt; a</li><li class="src short"><a href="#v:-60--47--62-">(&lt;/&gt;)</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; a -&gt; a</li><li class="src short"><a href="#v:moveParts">moveParts</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), Integral b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; b -&gt; a -&gt; a</li><li class="src short"><a href="#v:moveToPart">moveToPart</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), Enum b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; b -&gt; a -&gt; a</li><li class="src short"><a href="#v:apply">apply</a> :: <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> a =&gt; <a href="Music-Score-Voice.html#t:Voice">Voice</a> (<a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b</li><li class="src short"><a href="#v:snapshot">snapshot</a> :: <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> a =&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> (b, <a href="Music-Score-Score.html#t:Score">Score</a> a)</li><li class="src short"><a href="#v:applySingle">applySingle</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> (<a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b</li><li class="src short"><a href="#v:snapshotSingle">snapshotSingle</a> ::  <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> (a, <a href="Music-Score-Score.html#t:Score">Score</a> b)</li><li class="src short"><a href="#v:voiceToScore">voiceToScore</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a</li><li class="src short"><a href="#v:voiceToScore-39-">voiceToScore'</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> (Maybe a) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a</li><li class="src short"><a href="#v:scoreToVoice">scoreToVoice</a> ::  <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Voice.html#t:Voice">Voice</a> (Maybe a)</li></ul></div><div id="interface"><h1 id="g:1">Rests
</h1><div class="top"><p class="src"><a name="v:rest" class="def">rest</a> :: MonadPlus s =&gt; s (Maybe a)</p><div class="doc"><p>Create a score containing a rest at time zero of duration one.
</p><pre> Score (Maybe a)
</pre></div></div><div class="top"><p class="src"><a name="v:noteRest" class="def">noteRest</a> :: MonadPlus s =&gt; Maybe a -&gt; s a</p><div class="doc"><p>Create a note or a rest. This is an alias for <code>mfromMaybe</code> with a nicer reading.
</p><p>This function uses the unit position (0, 1).
</p><pre> Maybe a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:removeRests" class="def">removeRests</a> :: MonadPlus s =&gt; s (Maybe a) -&gt; s a</p><div class="doc"><p>Remove all rests from a score. This is an alias for <code>mcatMaybes</code> with a nicer reading.
</p><pre> Score (Maybe a) -&gt; Score a
</pre></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Slicable" class="def">Slicable</a> a = (Ord (<a href="Music-Time-Time.html#t:Duration">Duration</a> a), AdditiveGroup (<a href="Music-Time-Time.html#t:Duration">Duration</a> a), <a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a)</p></div><div class="top"><p class="src"><a name="v:before" class="def">before</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</p><div class="doc"><p>Return a score containing only the notes whose offset falls before the given duration.
</p><pre> Time -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:after" class="def">after</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</p><div class="doc"><p>Return a score containing only the notes whose onset falls after given duration.
</p><pre> Time -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:slice" class="def">slice</a> :: <a href="Music-Score-Combinators.html#t:Slicable">Slicable</a> a =&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; a -&gt; a</p><div class="doc"><p>Return a score containing only the notes whose onset and offset falls between the given durations.
</p><pre> Time -&gt; Time -&gt; Score a -&gt; Score a
</pre></div></div><h1 id="g:2">Maps and filters
</h1><h2 id="g:3">Events
</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Mappable" class="def">Mappable</a> a b = (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> b, <a href="Music-Time-Time.html#t:Duration">Duration</a> a ~ <a href="Music-Time-Time.html#t:Duration">Duration</a> b)</p></div><div class="top"><p class="src"><a name="v:filterEvents" class="def">filterEvents</a> :: (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a) =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; Bool) -&gt; a -&gt; a</p><div class="doc"><p>Filter the events in a score.
</p><pre> (Time -&gt; Duration -&gt; a -&gt; Bool) -&gt; Score a -&gt; Score b
</pre></div></div><div class="top"><p class="src"><a name="v:mapEvents" class="def">mapEvents</a> :: <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> b) -&gt; a -&gt; b</p><div class="doc"><p>Map over the events in a score.
</p><pre> (Time -&gt; Duration -&gt; a -&gt; b) -&gt; Score a -&gt; Score b
</pre></div></div><div class="top"><p class="src"><a name="v:mapFilterEvents" class="def">mapFilterEvents</a> :: <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b =&gt; (<a href="Music-Time-Time.html#t:Time">Time</a> a -&gt; <a href="Music-Time-Time.html#t:Duration">Duration</a> a -&gt; <a href="Music-Time-Performable.html#t:Event">Event</a> a -&gt; Maybe (<a href="Music-Time-Performable.html#t:Event">Event</a> b)) -&gt; a -&gt; b</p><div class="doc"><p>Efficient combination of <code><a href="Music-Score-Combinators.html#v:mapEvents">mapEvents</a></code> and <code><a href="Music-Score-Combinators.html#v:filterEvents">filterEvents</a></code>.
</p><pre> (Time -&gt; Duration -&gt; a -&gt; Maybe b) -&gt; Score a -&gt; Score b
</pre></div></div><h2 id="g:4">Phrases
</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Phraseable" class="def">Phraseable</a> a b = (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b, <a href="Music-Time-Performable.html#t:Composable">Composable</a> a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> (<a href="Music-Time-Performable.html#t:Event">Event</a> a))</p></div><div class="top"><p class="src"><a name="v:mapFirst" class="def">mapFirst</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</p><div class="doc"><p>Map over the first, and remaining notes in each part.
</p><p>If a part has only one notes, the first function is applied.
 If a part has no notes, the given score is returned unchanged.
</p><pre> (a -&gt; b) -&gt; (a -&gt; b) -&gt; Score a -&gt; Score b
</pre></div></div><div class="top"><p class="src"><a name="v:mapLast" class="def">mapLast</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</p><div class="doc"><p>Map over the last, and preceding notes in each part.
</p><p>If a part has only one notes, the first function is applied.
 If a part has no notes, the given score is returned unchanged.
</p><pre> (a -&gt; b) -&gt; (a -&gt; b) -&gt; Score a -&gt; Score b
</pre></div></div><div class="top"><p class="src"><a name="v:mapPhrase" class="def">mapPhrase</a> :: (<a href="Music-Score-Combinators.html#t:Phraseable">Phraseable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</p><div class="doc"><p>Map over the first, middle and last note in each part.
</p><p>If a part has fewer than three notes the first takes precedence over the last,
 and last takes precedence over the middle.
</p><pre> (a -&gt; b) -&gt; (a -&gt; b) -&gt; (a -&gt; b) -&gt; Score a -&gt; Score b
</pre></div></div><div class="top"><p class="src"><a name="v:mapPhraseSingle" class="def">mapPhraseSingle</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a b, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a, e' ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; (e -&gt; e') -&gt; a -&gt; b</p><div class="doc"><p>Equivalent to <code><a href="Music-Score-Combinators.html#v:mapPhrase">mapPhrase</a></code> for single-part scores.
</p><p>Fails if the score contains overlapping events.
</p><pre> (a -&gt; b) -&gt; (a -&gt; b) -&gt; (a -&gt; b) -&gt; Score a -&gt; Score b
</pre></div></div><h1 id="g:5">Parts
</h1><h2 id="g:6">Extracting
</h2><div class="top"><p class="src"><a name="v:filterPart" class="def">filterPart</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Time-Performable.html#t:Event">Event</a> a ~ e, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e) =&gt; (<a href="Music-Score-Part.html#t:Part">Part</a> e -&gt; Bool) -&gt; a -&gt; a</p><div class="doc"><p>Filter a score to include only those events whose parts match a given predicate.
</p><pre> (Part -&gt; Bool) -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:extractParts" class="def">extractParts</a> :: (<a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [a]</p><div class="doc"><p>Extract parts from the a score.
</p><p>The parts are returned in the order defined the associated <code>Ord</code> instance part type.
 You can recompose the score with <code>mconcat</code>, i.e.
</p><pre> mconcat . extractParts = id
</pre><pre> Score a -&gt; [Score a]
</pre></div></div><div class="top"><p class="src"><a name="v:extractParts-39-" class="def">extractParts'</a> :: (<a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [(<a href="Music-Score-Part.html#t:Part">Part</a> e, a)]</p><div class="doc"><p>Extract parts from the a score and include the part name.
</p><p>The parts are returned in the order defined the associated <code>Ord</code> instance part type.
</p><p>Simple type
</p><pre> Score a -&gt; [(Part a, Score a)]
</pre></div></div><h2 id="g:7">Mapping
</h2><div class="top"><p class="src"><a name="v:mapPart" class="def">mapPart</a> :: (Enum a, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> b b, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> b) =&gt; a -&gt; (b -&gt; b) -&gt; b -&gt; b</p><div class="doc"><p>Map over a specific part in the given score.
</p><pre> Part -&gt; (Score a -&gt; Score a) -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:mapParts" class="def">mapParts</a> :: (<a href="Music-Time-Juxtapose.html#t:Monoid-39-">Monoid'</a> b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; (a -&gt; b) -&gt; a -&gt; b</p><div class="doc"><p>Map over all parts in the given score.
</p><pre> (Score a -&gt; Score a) -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:mapAllParts" class="def">mapAllParts</a> :: (<a href="Music-Time-Juxtapose.html#t:Monoid-39-">Monoid'</a> b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; ([a] -&gt; [b]) -&gt; a -&gt; b</p><div class="doc"><p>Map over all parts in the given score.
</p><pre> ([Score a] -&gt; [Score a]) -&gt; Score a -&gt; Score a
</pre></div></div><h2 id="g:8">Inspecting
</h2><div class="top"><p class="src"><a name="v:getParts" class="def">getParts</a> :: (<a href="Music-Time-Performable.html#t:Performable">Performable</a> a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; [<a href="Music-Score-Part.html#t:Part">Part</a> e]</p><div class="doc"><p>Get all parts in the given score. Returns a list of parts.
</p><pre> Score a -&gt; [Part]
</pre></div></div><div class="top"><p class="src"><a name="v:setParts" class="def">setParts</a> :: (<a href="Music-Score-Part.html#t:HasPart">HasPart</a> a, Functor s) =&gt; <a href="Music-Score-Part.html#t:Part">Part</a> a -&gt; s a -&gt; s a</p><div class="doc"><p>Set all parts in the given score.
</p><pre> Part -&gt; Score a -&gt; Score a
</pre></div></div><div class="top"><p class="src"><a name="v:modifyParts" class="def">modifyParts</a> :: (<a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; (<a href="Music-Score-Part.html#t:Part">Part</a> e -&gt; <a href="Music-Score-Part.html#t:Part">Part</a> e) -&gt; a -&gt; a</p><div class="doc"><p>Modify all parts in the given score.
</p><pre> (Part -&gt; Part) -&gt; Score a -&gt; Score a
</pre></div></div><h2 id="g:9">Part composition
</h2><div class="top"><p class="src"><a name="v:-60--47--62-" class="def">(&lt;/&gt;)</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; a -&gt; a -&gt; a</p><div class="doc"><p>Similar to <code>&lt;&gt;</code>, but increases parts in the second part to prevent collision.
</p></div></div><div class="top"><p class="src"><a name="v:moveParts" class="def">moveParts</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), Integral b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; b -&gt; a -&gt; a</p><div class="doc"><p>Move down one voice (all parts).
</p></div></div><div class="top"><p class="src"><a name="v:moveToPart" class="def">moveToPart</a> :: (Enum (<a href="Music-Score-Part.html#t:Part">Part</a> e), Enum b, <a href="Music-Score-Combinators.html#t:Mappable">Mappable</a> a a, <a href="Music-Score-Part.html#t:HasPart">HasPart</a> e, e ~ <a href="Music-Time-Performable.html#t:Event">Event</a> a) =&gt; b -&gt; a -&gt; a</p><div class="doc"><p>Move top-part to the specific voice (other parts follow).
</p></div></div><h1 id="g:10">Zippers
</h1><div class="top"><p class="src"><a name="v:apply" class="def">apply</a> :: <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> a =&gt; <a href="Music-Score-Voice.html#t:Voice">Voice</a> (<a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b</p><div class="doc"><p>Apply a time-varying function to all events in score.
</p></div></div><div class="top"><p class="src"><a name="v:snapshot" class="def">snapshot</a> :: <a href="Music-Score-Part.html#t:HasPart-39-">HasPart'</a> a =&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> (b, <a href="Music-Score-Score.html#t:Score">Score</a> a)</p><div class="doc"><p>Get all notes that start during a given note.
</p></div></div><div class="top"><p class="src"><a name="v:applySingle" class="def">applySingle</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> (<a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b</p><div class="doc"><p>Apply a time-varying function to all events in score.
</p></div></div><div class="top"><p class="src"><a name="v:snapshotSingle" class="def">snapshotSingle</a> ::  <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> b -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> (a, <a href="Music-Score-Score.html#t:Score">Score</a> b)</p><div class="doc"><p>Get all notes that start during a given note.
</p></div></div><h2 id="g:11">Conversion
</h2><div class="top"><p class="src"><a name="v:voiceToScore" class="def">voiceToScore</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> a -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a</p><div class="doc"><p>Convert a voice into a score.
</p></div></div><div class="top"><p class="src"><a name="v:voiceToScore-39-" class="def">voiceToScore'</a> ::  <a href="Music-Score-Voice.html#t:Voice">Voice</a> (Maybe a) -&gt; <a href="Music-Score-Score.html#t:Score">Score</a> a</p><div class="doc"><p>Convert a voice which may contain rests into a score.
</p></div></div><div class="top"><p class="src"><a name="v:scoreToVoice" class="def">scoreToVoice</a> ::  <a href="Music-Score-Score.html#t:Score">Score</a> a -&gt; <a href="Music-Score-Voice.html#t:Voice">Voice</a> (Maybe a)</p><div class="doc"><p>Convert a score into a voice.
</p><p>This function fails if the score contain overlapping events.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>